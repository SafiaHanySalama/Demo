/******************************************************************************
*
* Module: 
*
* File Name: nvic_led_sw.c
*

* Description: 
*
* Author: Safia Hany
* 
* Date:  26/3/2024
******************************************************************************/


/********************************************************************************************************/
/************************************************Includes************************************************/
/********************************************************************************************************/

#include "app/app.h"
/********************************************************************************************************/
/************************************************Defines*************************************************/
/********************************************************************************************************/



/********************************************************************************************************/
/************************************************Types***************************************************/
/********************************************************************************************************/



/********************************************************************************************************/
/************************************************Variables***********************************************/
/********************************************************************************************************/



/********************************************************************************************************/
/*****************************************Static Functions Prototype*************************************/
/********************************************************************************************************/

void SYSTICK_test(void);

/********************************************************************************************************/
/*********************************************APIs Implementation****************************************/
/********************************************************************************************************/
void EXTI0_IRQHandler(void)
{
    led_setState(led_green,led_state_on);
    SYSTICK_set_ms(1000);
    SYSTICK_setCallBack(SYSTICK_test);
}

void SYSTICK_test(void)
{
  led_setState(led_green,led_state_off);
}
/* @brief: NVIC and SYSTICK drivers test */
void app1(){

    SYSTICK_Init(ONESHOOT);
    set_preipheral_clk(GPIOA);
    led_init();
    NVIC_EnableIRQ(GREEN_LED_ON_IRQ);
    uint32 priority = NVIC_EncodePriority(PRIGROUP_1,5,1);
    NVIC_SetPriority(GREEN_LED_ON_IRQ,priority);
    NVIC_SoftwareInterrupt(EXTI0_IRQn);
    while(1)
  {

  }
}
/* @brief: GPIO and LED driver test */
void app2(){
    set_preipheral_clk(GPIOA);
    led_init();
    led_setState(led_green,led_state_on);
  while(1)
  {

  }
}
/*
@info: Sched Test
*/
void app3()
{
  set_preipheral_clk(GPIOA);
  set_preipheral_clk(GPIOB);
  led_init();
  sched_init();
  sched_start();
}
void app4()
{
  set_preipheral_clk(GPIOB);
  LCD_initAsync();
  sched_init();
  sched_start();
}
